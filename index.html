<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bhannuz â€” Live Gold & Silver Rates Hyderabad</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=JetBrains+Mono:wght@300;400;500;700&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root {
  --gold:       #C8922A;
  --gold-hi:    #F0C060;
  --gold-dim:   #6B4A12;
  --silver:     #8BA0B2;
  --silver-hi:  #C8D8E8;
  --silver-dim: #3A4A58;
  --bg:         #080808;
  --bg2:        #0F0F0F;
  --bg3:        #161616;
  --line:       rgba(255,255,255,0.07);
  --text:       #EAE6E0;
  --muted:      #5A5550;
  --up:         #3CB878;
  --dn:         #D95C5C;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-weight: 300;
  min-height: 100vh;
  overflow-x: hidden;
}

/* â”€â”€ GRAIN OVERLAY â”€â”€ */
body::after {
  content: '';
  position: fixed; inset: 0; z-index: 999; pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23g)' opacity='0.035'/%3E%3C/svg%3E");
  opacity: 1;
}

/* â”€â”€ RADIAL GLOW BACKGROUNDS â”€â”€ */
.glow-gold {
  position: fixed; top: -200px; left: -200px;
  width: 700px; height: 700px; border-radius: 50%;
  background: radial-gradient(circle, rgba(200,146,42,0.08) 0%, transparent 70%);
  pointer-events: none; z-index: 0;
}
.glow-silver {
  position: fixed; bottom: -200px; right: -200px;
  width: 600px; height: 600px; border-radius: 50%;
  background: radial-gradient(circle, rgba(139,160,178,0.06) 0%, transparent 70%);
  pointer-events: none; z-index: 0;
}

/* â”€â”€ HEADER â”€â”€ */
header {
  position: relative; z-index: 10;
  border-bottom: 1px solid var(--line);
  padding: 0 32px;
  height: 64px;
  display: flex; align-items: center; justify-content: space-between;
  background: rgba(8,8,8,0.92);
  backdrop-filter: blur(20px);
}

.logo {
  display: flex; align-items: center; gap: 14px;
}

.logo-mark {
  width: 40px; height: 40px;
  background: linear-gradient(135deg, var(--gold) 0%, var(--gold-hi) 100%);
  border-radius: 9px;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Cormorant Garamond', serif;
  font-weight: 700; font-size: 1.3rem; color: #1A0800;
  box-shadow: 0 0 28px rgba(200,146,42,0.5), inset 0 1px 0 rgba(255,255,255,0.3);
  letter-spacing: -0.02em;
}

.logo-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.6rem; font-weight: 700;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text);
  line-height: 1;
}

.logo-text span {
  background: linear-gradient(90deg, var(--gold), var(--gold-hi), #FFF8E7, var(--gold));
  background-size: 300% auto;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmer-text 4s linear infinite;
}

.header-right { display: flex; align-items: center; gap: 20px; }

.live-pill {
  display: flex; align-items: center; gap: 7px;
  padding: 5px 13px;
  border: 1px solid rgba(60,184,120,0.3);
  border-radius: 100px;
  background: rgba(60,184,120,0.07);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem; font-weight: 500;
  color: var(--up); letter-spacing: 0.06em;
}

.live-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--up);
  animation: blink 2s ease-in-out infinite;
}

@keyframes blink {
  0%,100% { opacity:1; box-shadow: 0 0 6px var(--up); }
  50% { opacity:0.3; box-shadow: none; }
}

#clock {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem; color: var(--muted);
  letter-spacing: 0.04em;
}

/* â”€â”€ HERO â”€â”€ */
.hero {
  position: relative; z-index: 5;
  text-align: center;
  padding: 56px 24px 40px;
  border-bottom: 1px solid var(--line);
}

.hero-eyebrow {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem; letter-spacing: 0.2em;
  color: var(--gold); text-transform: uppercase;
  margin-bottom: 14px;
}

.hero-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(2.2rem, 6vw, 4rem);
  font-weight: 700; line-height: 1.05;
  letter-spacing: -0.01em;
  margin-bottom: 12px;
}

.hero-title em {
  font-style: italic;
  background: linear-gradient(90deg, var(--gold), var(--gold-hi), var(--gold));
  background-size: 200% auto;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmer-text 3s linear infinite;
}

@keyframes shimmer-text {
  0% { background-position: 0% center; }
  100% { background-position: 200% center; }
}

.hero-sub {
  font-size: 0.85rem; color: var(--muted);
  letter-spacing: 0.03em;
}

/* â”€â”€ META STRIP â”€â”€ */
.meta-strip {
  position: relative; z-index: 5;
  display: flex; align-items: center; justify-content: center; gap: 0;
  border-bottom: 1px solid var(--line);
  overflow: hidden;
}

.meta-item {
  flex: 1; max-width: 220px;
  padding: 14px 20px;
  text-align: center;
  border-right: 1px solid var(--line);
}
.meta-item:last-child { border-right: none; }

.meta-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.55rem; letter-spacing: 0.14em;
  text-transform: uppercase; color: var(--muted);
  margin-bottom: 5px;
}

.meta-val {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.78rem; font-weight: 500;
  color: var(--text);
}

.meta-val.fresh { color: var(--up); }
.meta-val.usd-inr { color: var(--silver-hi); }

/* â”€â”€ MAIN LAYOUT â”€â”€ */
main {
  position: relative; z-index: 5;
  max-width: 1000px; margin: 0 auto;
  padding: 36px 20px 60px;
  display: flex; flex-direction: column; gap: 28px;
}

/* â”€â”€ METAL PANEL â”€â”€ */
.panel {
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid transparent;
  animation: rise 0.7s cubic-bezier(0.22,1,0.36,1) both;
}

.panel.gold-panel { border-color: rgba(200,146,42,0.18); animation-delay: 0.05s; }
.panel.silver-panel { border-color: rgba(139,160,178,0.15); animation-delay: 0.18s; }

@keyframes rise {
  from { opacity:0; transform: translateY(20px); }
  to   { opacity:1; transform: translateY(0); }
}

/* â”€â”€ PANEL HEADER â”€â”€ */
.panel-head {
  padding: 22px 26px 18px;
  display: flex; align-items: center; justify-content: space-between;
  border-bottom: 1px solid var(--line);
}

.gold-panel .panel-head { background: linear-gradient(135deg, #110C03 0%, #0E0A02 100%); }
.silver-panel .panel-head { background: linear-gradient(135deg, #090D11 0%, #070B0E 100%); }

.metal-id { display: flex; align-items: center; gap: 16px; }

.symbol-badge {
  width: 52px; height: 52px; border-radius: 14px;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.25rem; font-weight: 700;
  flex-shrink: 0;
}

.gold-panel .symbol-badge {
  background: linear-gradient(145deg, #C8922A, #F0C060);
  color: #2A1200;
  box-shadow: 0 4px 24px rgba(200,146,42,0.45), inset 0 1px 0 rgba(255,255,255,0.25);
}

.silver-panel .symbol-badge {
  background: linear-gradient(145deg, #6A7F90, #B8CEE0);
  color: #0D1820;
  box-shadow: 0 4px 20px rgba(139,160,178,0.3), inset 0 1px 0 rgba(255,255,255,0.2);
}

.metal-name-wrap {}

.metal-name {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.5rem; font-weight: 700;
  letter-spacing: 0.02em; line-height: 1;
  margin-bottom: 4px;
}

.gold-panel .metal-name { color: var(--gold-hi); }
.silver-panel .metal-name { color: var(--silver-hi); }

.metal-desc {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem; color: var(--muted);
  letter-spacing: 0.08em; text-transform: uppercase;
}

/* Change badge */
.chg-wrap { text-align: right; }

.chg-badge {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 5px 12px; border-radius: 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.8rem; font-weight: 700;
  margin-bottom: 4px;
}

.chg-badge.up   { background: rgba(60,184,120,0.12); color: var(--up); border: 1px solid rgba(60,184,120,0.25); }
.chg-badge.dn   { background: rgba(217,92,92,0.12); color: var(--dn); border: 1px solid rgba(217,92,92,0.25); }
.chg-badge.flat { background: rgba(255,255,255,0.04); color: var(--muted); border: 1px solid var(--line); }

.chg-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.55rem; color: var(--muted); letter-spacing: 0.1em;
}

/* â”€â”€ RATE GRID â”€â”€ */
.rate-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1px;
  background: var(--line);
}

.rate-cell {
  padding: 18px 22px;
  display: flex; flex-direction: column; gap: 5px;
  position: relative;
  transition: background 0.2s;
}

.gold-panel .rate-cell { background: #0C0901; }
.silver-panel .rate-cell { background: #080C10; }

.gold-panel .rate-cell:hover { background: rgba(200,146,42,0.05); }
.silver-panel .rate-cell:hover { background: rgba(139,160,178,0.05); }

.cell-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem; color: var(--muted);
  letter-spacing: 0.1em; text-transform: uppercase;
}

.cell-value {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.1rem; font-weight: 500;
  letter-spacing: -0.03em;
  transition: color 0.3s;
}

.gold-panel  .cell-value { color: var(--gold-hi); }
.silver-panel .cell-value { color: var(--silver-hi); }

.cell-unit {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.55rem; color: var(--muted);
  letter-spacing: 0.06em;
}

/* Flash animation */
@keyframes flashGold   { 0% { color:#fff; text-shadow: 0 0 16px rgba(240,192,96,0.9); } 100% { color:var(--gold-hi); text-shadow:none; } }
@keyframes flashSilver { 0% { color:#fff; text-shadow: 0 0 16px rgba(200,216,232,0.9); } 100% { color:var(--silver-hi); text-shadow:none; } }

.flash-gold   { animation: flashGold   0.9s ease forwards; }
.flash-silver { animation: flashSilver 0.9s ease forwards; }

/* â”€â”€ TICKER BAR â”€â”€ */
.ticker-bar {
  display: flex; border-top: 1px solid var(--line);
}

.tick-cell {
  flex: 1; padding: 11px 18px;
  display: flex; align-items: center; justify-content: space-between;
  border-right: 1px solid var(--line);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.63rem;
}
.tick-cell:last-child { border-right: none; }

.gold-panel   .tick-cell { background: #0A0700; color: var(--muted); }
.silver-panel .tick-cell { background: #070A0D; color: var(--muted); }

.tick-val { color: var(--text); font-weight: 500; }

/* â”€â”€ PROGRESS BAR â”€â”€ */
.prog-wrap { height: 2px; overflow: hidden; }
.gold-panel   .prog-wrap { background: rgba(200,146,42,0.08); }
.silver-panel .prog-wrap { background: rgba(139,160,178,0.06); }

.prog-fill {
  height: 100%; border-radius: 2px;
  animation: progress var(--dur,30s) linear infinite;
}

.gold-panel   .prog-fill { background: linear-gradient(90deg, var(--gold), var(--gold-hi)); }
.silver-panel .prog-fill { background: linear-gradient(90deg, var(--silver), var(--silver-hi)); }

@keyframes progress {
  from { width: 0; } to { width: 100%; }
}

/* â”€â”€ DISCLAIMER â”€â”€ */
footer {
  position: relative; z-index: 5;
  border-top: 1px solid var(--line);
  padding: 20px 32px;
  text-align: center;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem; color: var(--muted);
  letter-spacing: 0.05em; line-height: 1.9;
}

/* â”€â”€ SKELETON â”€â”€ */
.skel {
  display: inline-block;
  border-radius: 4px; height: 1em; vertical-align: middle;
  background: linear-gradient(90deg, rgba(255,255,255,0.04) 25%, rgba(255,255,255,0.09) 50%, rgba(255,255,255,0.04) 75%);
  background-size: 200% 100%;
  animation: skel-anim 1.4s infinite;
}
@keyframes skel-anim { 0%{background-position:-200% 0} 100%{background-position:200% 0} }

/* â”€â”€ RESPONSIVE â”€â”€ */
@media (max-width: 680px) {
  header { padding: 0 16px; }
  .logo-text { display: none; }
  .rate-grid { grid-template-columns: repeat(2,1fr); }
  .ticker-bar { flex-wrap: wrap; }
  .tick-cell { min-width: 50%; border-bottom: 1px solid var(--line); }
  .meta-strip { flex-wrap: wrap; }
  .meta-item { min-width: 50%; }
  main { padding: 24px 12px 48px; }
  .panel-head { flex-wrap: wrap; gap: 12px; }
}

@media (max-width: 420px) {
  .rate-grid { grid-template-columns: 1fr 1fr; }
  .cell-value { font-size: 0.9rem; }
}
/* â”€â”€ AD BANNER â”€â”€ */
.ad-banner-wrap {
  border: 1px dashed rgba(255,255,255,0.1);
  border-radius: 16px; overflow: hidden;
  text-align: center;
  animation: rise 0.7s cubic-bezier(0.22,1,0.36,1) 0.3s both;
}
.ad-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.5rem; letter-spacing: 0.18em;
  color: var(--muted); padding: 6px;
  background: rgba(255,255,255,0.02);
  border-bottom: 1px dashed rgba(255,255,255,0.06);
}
.ad-placeholder {
  min-height: 90px; display: flex;
  align-items: center; justify-content: center;
  background: rgba(255,255,255,0.02);
}
.ad-placeholder-inner { padding: 20px; }

/* â”€â”€ DEALERS â”€â”€ */
.dealers-section {
  animation: rise 0.7s cubic-bezier(0.22,1,0.36,1) 0.38s both;
}
.dealers-header {
  display: flex; align-items: center;
  justify-content: space-between;
  margin-bottom: 16px; flex-wrap: wrap; gap: 10px;
}
.dealers-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.3rem; font-weight: 700;
  color: var(--text);
}
.dealers-sub {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem; color: var(--muted);
  margin-top: 3px; letter-spacing: 0.06em;
}
.list-shop-btn {
  background: linear-gradient(135deg, var(--gold), var(--gold-hi));
  border: none; border-radius: 10px;
  padding: 9px 18px; color: #1A0800;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem; font-weight: 700;
  cursor: pointer; letter-spacing: 0.05em;
  white-space: nowrap;
  box-shadow: 0 4px 20px rgba(200,146,42,0.3);
  transition: opacity 0.2s;
}
.list-shop-btn:hover { opacity: 0.88; }

.dealers-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 14px;
}

.dealer-card {
  background: var(--bg2);
  border: 1px solid var(--line);
  border-radius: 16px; padding: 18px;
  position: relative; overflow: hidden;
  transition: border-color 0.2s, transform 0.2s;
}
.dealer-card:hover { border-color: rgba(200,146,42,0.3); transform: translateY(-2px); }
.dealer-card.sponsored { border-color: rgba(200,146,42,0.35); background: rgba(200,146,42,0.04); }
.dealer-card.dealer-add {
  border: 1px dashed rgba(200,146,42,0.25);
  background: transparent; cursor: pointer;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  text-align: center; min-height: 160px;
}
.dealer-badge {
  position: absolute; top: 12px; right: 12px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.52rem; font-weight: 700;
  color: var(--gold); letter-spacing: 0.1em;
  background: rgba(200,146,42,0.1);
  border: 1px solid rgba(200,146,42,0.3);
  border-radius: 5px; padding: 2px 7px;
}
.dealer-top { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
.dealer-avatar {
  width: 42px; height: 42px; border-radius: 11px;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Cormorant Garamond', serif;
  font-size: 1rem; font-weight: 700; flex-shrink: 0;
}
.dealer-name {
  font-weight: 600; font-size: 0.92rem; color: var(--text);
}
.dealer-loc {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem; color: var(--muted); margin-top: 2px;
}
.dealer-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 12px; }
.dtag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem; padding: 3px 8px;
  border: 1px solid var(--line); border-radius: 5px;
  color: var(--muted);
}
.dealer-footer { display: flex; align-items: center; justify-content: space-between; }
.dealer-phone { font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; color: var(--muted); }
.dealer-cta {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem; font-weight: 700;
  color: var(--gold); text-decoration: none;
  letter-spacing: 0.04em;
  transition: color 0.2s;
}
.dealer-cta:hover { color: var(--gold-hi); }

/* â”€â”€ LISTING FORM â”€â”€ */
.form-field { margin-bottom: 14px; }
.form-lbl {
  display: block; margin-bottom: 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem; color: var(--muted);
  letter-spacing: 0.1em; text-transform: uppercase;
}
.form-inp {
  width: 100%; padding: 10px 14px;
  background: #1A1A1A;
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 10px; color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.78rem; outline: none;
  transition: border-color 0.2s;
}
.form-inp:focus { border-color: rgba(200,146,42,0.5); }
.tag-check {
  display: flex; align-items: center; gap: 6px;
  padding: 6px 10px;
  border: 1px solid var(--line); border-radius: 8px;
  cursor: pointer; font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem; color: var(--muted);
  transition: all 0.15s;
}
.tag-check:has(input:checked) { border-color: rgba(200,146,42,0.5); color: var(--gold-hi); background: rgba(200,146,42,0.07); }
.tag-check input { accent-color: var(--gold); }

.pkg-card {
  display: block; cursor: pointer;
  border: 1px solid var(--line); border-radius: 12px;
  overflow: hidden; transition: all 0.2s;
}
.pkg-card:has(input:checked) { border-color: var(--gold); background: rgba(200,146,42,0.07); }
.pkg-card input { display: none; }
.pkg-inner { padding: 12px; text-align: center; }
.pkg-name { font-weight: 600; font-size: 0.82rem; color: var(--text); margin-bottom: 4px; }
.pkg-price { font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; color: var(--gold-hi); font-weight: 700; margin-bottom: 4px; }
.pkg-feat { font-family: 'JetBrains Mono', monospace; font-size: 0.55rem; color: var(--muted); letter-spacing: 0.06em; }

.loc-btn {
  background: rgba(200,146,42,0.07);
  border: 1px solid rgba(200,146,42,0.2);
  border-radius: 10px; padding: 10px 8px;
  color: var(--gold-hi);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem; font-weight: 500;
  cursor: pointer; letter-spacing: 0.04em;
  transition: background 0.2s, border-color 0.2s;
}
.loc-btn:hover { background: rgba(200,146,42,0.15); border-color: rgba(200,146,42,0.4); }
</style>
</head>
<body>

<div class="glow-gold"></div>
<div class="glow-silver"></div>

<!-- â•â•â• HEADER â•â•â• -->
<header>
  <div class="logo">
    <div class="logo-mark">B</div>
    <div>
      <div class="logo-text"><span>Bhannuz</span></div>
      <div style="font-family:'Cormorant Garamond',serif;font-size:0.55rem;letter-spacing:0.22em;text-transform:uppercase;color:var(--muted);margin-top:2px;">Bullion Â· Hyderabad</div>
    </div>
  </div>
  <div class="header-right">
    <div class="live-pill"><div class="live-dot"></div>LIVE RATES</div>
    <div id="clock">â€”</div>
  </div>
</header>

<!-- â•â•â• HERO â•â•â• -->
<div class="hero">
  <div class="hero-eyebrow">Bhannuz Â· Hyderabad Â· Telangana Â· India</div>
  <h1 class="hero-title"><em>Gold & Silver</em><br>Live Market Rates</h1>
  <div class="hero-sub">Real-time prices Â· Refreshes automatically on every rate change</div>
</div>

<!-- â•â•â• META STRIP â•â•â• -->
<div class="meta-strip">
  <div class="meta-item" style="cursor:pointer;" onclick="openLocationPicker()" title="Change location">
    <div class="meta-label">ğŸ“ Market Location</div>
    <div class="meta-val" id="locationDisplay" style="color:var(--gold-hi);display:flex;align-items:center;gap:6px;">
      Hyderabad, TG <span style="font-size:0.6rem;opacity:0.6;">âœ</span>
    </div>
  </div>
  <div class="meta-item">
    <div class="meta-label">ğŸ’± USD / INR</div>
    <div class="meta-val usd-inr" id="usdInr"><span class="skel" style="width:60px">&nbsp;</span></div>
  </div>
  <div class="meta-item">
    <div class="meta-label">ğŸ”„ Last Updated</div>
    <div class="meta-val" id="lastUpdated">Fetchingâ€¦</div>
  </div>
  <div class="meta-item">
    <div class="meta-label">ğŸ“¡ Next Refresh</div>
    <div class="meta-val" id="nextRefresh">30s</div>
  </div>
</div>

<!-- â•â•â• MAIN â•â•â• -->
<main>

  <!-- â”€â”€â”€ GOLD PANEL â”€â”€â”€ -->
  <div class="panel gold-panel">
    <div class="panel-head">
      <div class="metal-id">
        <div class="symbol-badge">Au</div>
        <div class="metal-name-wrap">
          <div class="metal-name">Gold</div>
          <div class="metal-desc">XAU Â· 24K / 22K Â· Per 10g Â· <span id="goldLocationDesc">Hyderabad</span> Market</div>
        </div>
      </div>
      <div class="chg-wrap">
        <div class="chg-badge flat" id="goldChg">â€” %</div>
        <div class="chg-label">Change vs yesterday</div>
      </div>
    </div>

    <div class="rate-grid" style="grid-template-columns:1fr 1fr;">
      <div class="rate-cell">
        <div class="cell-label">24K Â· Per 10g</div>
        <div class="cell-value" id="g24t"><span class="skel" style="width:88px">&nbsp;</span></div>
        <div class="cell-unit">Pure Â· 999.9 fineness</div>
      </div>
      <div class="rate-cell">
        <div class="cell-label">22K Â· Per 10g</div>
        <div class="cell-value" id="g22t"><span class="skel" style="width:84px">&nbsp;</span></div>
        <div class="cell-unit">Jewellery Â· 916 fineness</div>
      </div>
    </div>

    <div class="ticker-bar">
      <div class="tick-cell">
        <span>Intl. Spot</span>
        <span class="tick-val" id="goldSpot">â€”</span>
      </div>
      <div class="tick-cell">
        <span>24K / gram</span>
        <span class="tick-val" id="goldPerGram">â€”</span>
      </div>
      <div class="tick-cell">
        <span>Gold : Silver</span>
        <span class="tick-val" id="gsRatio">â€”</span>
      </div>
    </div>

    <div class="prog-wrap" id="goldProg">
      <div class="prog-fill" style="--dur:30s" id="goldBar"></div>
    </div>
  </div>

  <!-- â”€â”€â”€ SILVER PANEL â”€â”€â”€ -->
  <div class="panel silver-panel">
    <div class="panel-head">
      <div class="metal-id">
        <div class="symbol-badge">Ag</div>
        <div class="metal-name-wrap">
          <div class="metal-name">Silver</div>
          <div class="metal-desc">XAG Â· 999 Fine Â· <span id="silverLocationDesc">Hyderabad</span> Market</div>
        </div>
      </div>
      <div class="chg-wrap">
        <div class="chg-badge flat" id="silverChg">â€” %</div>
        <div class="chg-label">Change vs yesterday</div>
      </div>
    </div>

    <div class="rate-grid" style="grid-template-columns:1fr;">
      <div class="rate-cell" style="padding:28px 28px;">
        <div class="cell-label">999 Fine Silver Â· Per Kilogram</div>
        <div class="cell-value" id="s1kg" style="font-size:1.8rem;margin:8px 0;"><span class="skel" style="width:120px">&nbsp;</span></div>
        <div class="cell-unit">Fine Silver Â· 999 fineness Â· 1000 grams</div>
      </div>
    </div>

    <div class="ticker-bar">
      <div class="tick-cell">
        <span>Intl. Spot</span>
        <span class="tick-val" id="silverSpot">â€”</span>
      </div>
      <div class="tick-cell">
        <span>Per Tola</span>
        <span class="tick-val" id="silverTola">â€”</span>
      </div>
      <div class="tick-cell">
        <span>Per Kg (USD)</span>
        <span class="tick-val" id="silverKgUSD">â€”</span>
      </div>
    </div>

    <div class="prog-wrap" id="silverProg">
      <div class="prog-fill" style="--dur:30s" id="silverBar"></div>
    </div>
  </div>

  <!-- â”€â”€â”€ ADSENSE BANNER â”€â”€â”€ -->
  <!-- Replace the data-ad-* values below with your actual Google AdSense code -->
  <div class="ad-banner-wrap">
    <div class="ad-label">ADVERTISEMENT</div>
    <!-- PASTE YOUR ADSENSE CODE HERE â€” example placeholder below -->
    <!--
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXX" crossorigin="anonymous"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXXXXX" data-ad-slot="XXXXXXXXXX" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    -->
    <div class="ad-placeholder">
      <div class="ad-placeholder-inner">
        <div style="font-size:1.6rem;margin-bottom:8px;">ğŸ’°</div>
        <div style="font-family:'JetBrains Mono',monospace;font-size:0.7rem;color:var(--muted);letter-spacing:0.08em;">Google AdSense Ad</div>
        <div style="font-family:'JetBrains Mono',monospace;font-size:0.55rem;color:var(--muted);margin-top:4px;opacity:0.6;">Replace this block with your AdSense code</div>
      </div>
    </div>
  </div>

  <!-- â”€â”€â”€ FEATURED DEALERS â”€â”€â”€ -->
  <div class="dealers-section">
    <div class="dealers-header">
      <div>
        <div class="dealers-title">ğŸª Featured Bullion Dealers</div>
        <div class="dealers-sub">Trusted shops in Hyderabad Â· Verified listings</div>
      </div>
      <button class="list-shop-btn" onclick="openListShopModal()">+ List Your Shop</button>
    </div>

    <div class="dealers-grid">

      <!-- Dealer Card 1 â€” Sample -->
      <div class="dealer-card sponsored">
        <div class="dealer-badge">â­ SPONSORED</div>
        <div class="dealer-top">
          <div class="dealer-avatar" style="background:linear-gradient(135deg,#C8922A,#F0C060);color:#1A0800;">SR</div>
          <div>
            <div class="dealer-name">Sri Ram Jewellers</div>
            <div class="dealer-loc">ğŸ“ Secunderabad Bullion Market</div>
          </div>
        </div>
        <div class="dealer-tags">
          <span class="dtag">Gold Coins</span>
          <span class="dtag">Bars</span>
          <span class="dtag">Silver</span>
          <span class="dtag">Jewellery</span>
        </div>
        <div class="dealer-footer">
          <span class="dealer-phone">ğŸ“ +91 98765 XXXXX</span>
          <a href="#" class="dealer-cta">Contact â†’</a>
        </div>
      </div>

      <!-- Dealer Card 2 â€” Sample -->
      <div class="dealer-card">
        <div class="dealer-top">
          <div class="dealer-avatar" style="background:linear-gradient(135deg,#3A4A58,#8BA0B2);color:#E0EAF0;">MG</div>
          <div>
            <div class="dealer-name">Manohar Gold House</div>
            <div class="dealer-loc">ğŸ“ Abids, Hyderabad</div>
          </div>
        </div>
        <div class="dealer-tags">
          <span class="dtag">Bullion Bars</span>
          <span class="dtag">24K Coins</span>
          <span class="dtag">Buy Back</span>
        </div>
        <div class="dealer-footer">
          <span class="dealer-phone">ğŸ“ +91 99887 XXXXX</span>
          <a href="#" class="dealer-cta">Contact â†’</a>
        </div>
      </div>

      <!-- Add Your Shop Card -->
      <div class="dealer-card dealer-add" onclick="openListShopModal()">
        <div style="font-size:2rem;margin-bottom:10px;">â•</div>
        <div class="dealer-name" style="color:var(--gold);">List Your Shop Here</div>
        <div style="font-size:0.72rem;color:var(--muted);margin-top:6px;line-height:1.6;">Reach thousands of gold buyers in Hyderabad every day</div>
        <div class="dealer-cta" style="margin-top:14px;display:inline-block;">Get Listed â†’</div>
      </div>

    </div>
  </div>

</main>

<!-- â•â•â• LIST YOUR SHOP MODAL â•â•â• -->
<div id="listShopModal" style="display:none;position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.8);backdrop-filter:blur(8px);align-items:center;justify-content:center;padding:16px;">
  <div style="background:#111;border:1px solid rgba(200,146,42,0.3);border-radius:20px;padding:28px;width:100%;max-width:460px;max-height:90vh;overflow-y:auto;box-shadow:0 0 80px rgba(200,146,42,0.12);">
    <div style="font-family:'Cormorant Garamond',serif;font-size:1.5rem;font-weight:700;color:var(--gold-hi);margin-bottom:4px;">List Your Shop</div>
    <div style="font-family:'JetBrains Mono',monospace;font-size:0.58rem;color:var(--muted);letter-spacing:0.1em;margin-bottom:22px;">REACH THOUSANDS OF BUYERS DAILY Â· â‚¹2,000â€“â‚¹5,000/MONTH</div>

    <div class="form-field">
      <label class="form-lbl">Shop Name *</label>
      <input type="text" id="shopName" class="form-inp" placeholder="e.g. Sri Lakshmi Gold House">
    </div>
    <div class="form-field">
      <label class="form-lbl">Owner / Contact Name *</label>
      <input type="text" id="ownerName" class="form-inp" placeholder="Your name">
    </div>
    <div class="form-field">
      <label class="form-lbl">Phone Number *</label>
      <input type="tel" id="shopPhone" class="form-inp" placeholder="+91 XXXXX XXXXX">
    </div>
    <div class="form-field">
      <label class="form-lbl">Shop Address</label>
      <input type="text" id="shopAddr" class="form-inp" placeholder="e.g. Abids, Hyderabad">
    </div>
    <div class="form-field">
      <label class="form-lbl">What do you sell?</label>
      <div style="display:flex;flex-wrap:wrap;gap:7px;margin-top:6px;" id="sellTags">
        <label class="tag-check"><input type="checkbox" value="Gold Coins"> Gold Coins</label>
        <label class="tag-check"><input type="checkbox" value="Gold Bars"> Gold Bars</label>
        <label class="tag-check"><input type="checkbox" value="Silver"> Silver</label>
        <label class="tag-check"><input type="checkbox" value="Jewellery"> Jewellery</label>
        <label class="tag-check"><input type="checkbox" value="Buy Back"> Buy Back</label>
        <label class="tag-check"><input type="checkbox" value="Loans"> Loans</label>
      </div>
    </div>
    <div class="form-field">
      <label class="form-lbl">Package</label>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:6px;">
        <label class="pkg-card"><input type="radio" name="pkg" value="basic" checked><div class="pkg-inner"><div class="pkg-name">Basic</div><div class="pkg-price">â‚¹2,000/mo</div><div class="pkg-feat">Standard listing</div></div></label>
        <label class="pkg-card"><input type="radio" name="pkg" value="sponsored"><div class="pkg-inner"><div class="pkg-name">â­ Sponsored</div><div class="pkg-price">â‚¹5,000/mo</div><div class="pkg-feat">Top placement + badge</div></div></label>
      </div>
    </div>

    <button onclick="submitShopListing()" style="width:100%;margin-top:8px;padding:14px;background:linear-gradient(135deg,var(--gold),var(--gold-hi));border:none;border-radius:12px;color:#1A0800;font-family:'JetBrains Mono',monospace;font-weight:700;font-size:0.82rem;cursor:pointer;letter-spacing:0.06em;">SUBMIT LISTING REQUEST</button>
    <button onclick="closeListShopModal()" style="width:100%;margin-top:10px;padding:11px;background:transparent;border:1px solid var(--line);border-radius:12px;color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:0.68rem;cursor:pointer;letter-spacing:0.06em;">CANCEL</button>

    <div id="shopSubmitMsg" style="display:none;margin-top:14px;padding:12px;background:rgba(60,184,120,0.1);border:1px solid rgba(60,184,120,0.3);border-radius:10px;font-family:'JetBrains Mono',monospace;font-size:0.68rem;color:var(--up);text-align:center;line-height:1.7;"></div>
  </div>
</div>

<!-- â•â•â• LOCATION PICKER MODAL â•â•â• -->
<div id="locationModal" style="display:none;position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.75);backdrop-filter:blur(8px);align-items:center;justify-content:center;">
  <div style="background:#111;border:1px solid rgba(200,146,42,0.3);border-radius:20px;padding:28px;width:92%;max-width:420px;box-shadow:0 0 60px rgba(200,146,42,0.12);">
    <div style="font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:700;color:var(--gold-hi);margin-bottom:6px;">Change Location</div>
    <div style="font-family:'JetBrains Mono',monospace;font-size:0.6rem;color:var(--muted);letter-spacing:0.1em;margin-bottom:20px;">SELECT A CITY OR TYPE CUSTOM</div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:18px;">
      <button class="loc-btn" onclick="setLocation('Hyderabad, TG','Hyderabad')">Hyderabad</button>
      <button class="loc-btn" onclick="setLocation('Mumbai, MH','Mumbai')">Mumbai</button>
      <button class="loc-btn" onclick="setLocation('Delhi, DL','Delhi')">Delhi</button>
      <button class="loc-btn" onclick="setLocation('Chennai, TN','Chennai')">Chennai</button>
      <button class="loc-btn" onclick="setLocation('Bengaluru, KA','Bengaluru')">Bengaluru</button>
      <button class="loc-btn" onclick="setLocation('Kolkata, WB','Kolkata')">Kolkata</button>
      <button class="loc-btn" onclick="setLocation('Ahmedabad, GJ','Ahmedabad')">Ahmedabad</button>
      <button class="loc-btn" onclick="setLocation('Pune, MH','Pune')">Pune</button>
    </div>

    <div style="font-family:'JetBrains Mono',monospace;font-size:0.58rem;color:var(--muted);letter-spacing:0.1em;margin-bottom:8px;">OR ENTER CUSTOM CITY</div>
    <div style="display:flex;gap:8px;">
      <input id="customLocInput" type="text" placeholder="e.g. Vijayawada, AP"
        style="flex:1;background:#1A1A1A;border:1px solid rgba(255,255,255,0.1);border-radius:10px;padding:10px 14px;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:0.78rem;outline:none;"
        onkeydown="if(event.key==='Enter')applyCustomLoc()">
      <button onclick="applyCustomLoc()" style="background:linear-gradient(135deg,var(--gold),var(--gold-hi));border:none;border-radius:10px;padding:10px 16px;color:#1A0800;font-weight:700;font-family:'JetBrains Mono',monospace;font-size:0.72rem;cursor:pointer;letter-spacing:0.05em;">SET</button>
    </div>

    <button onclick="closeLocationPicker()" style="margin-top:18px;width:100%;background:transparent;border:1px solid var(--line);border-radius:10px;padding:10px;color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:0.68rem;cursor:pointer;letter-spacing:0.06em;">CANCEL</button>
  </div>
</div>

<footer>
  Rates are indicative Â· Based on international spot prices converted to INR Â· Includes approx. local market premium<br>
  Actual dealer prices may vary Â· Not financial advice Â· Auto-refreshes every 30 seconds Â· Data: gold-api.com
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONSTANTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const TROY_OZ_G    = 31.1035;   // grams per troy oz
const TOLA_G       = 11.6638;   // grams per tola
const LOCAL_PREM   = 1.0048;    // ~0.48% Hyderabad local premium over spot
const REFRESH_MS   = 30000;     // 30 seconds

let USD_INR  = 84.5;   // fallback rate
let prevGold = null;
let prevSilv = null;
let countdown = REFRESH_MS / 1000;
let countdownTimer;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CLOCK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function tickClock() {
  const now = new Date();
  const t = now.toLocaleTimeString('en-IN', {
    timeZone: 'Asia/Kolkata',
    hour: '2-digit', minute: '2-digit', second: '2-digit',
    hour12: true
  });
  document.getElementById('clock').textContent = t + ' IST';
}
setInterval(tickClock, 1000);
tickClock();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// COUNTDOWN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startCountdown() {
  clearInterval(countdownTimer);
  countdown = REFRESH_MS / 1000;
  const el = document.getElementById('nextRefresh');
  countdownTimer = setInterval(() => {
    countdown--;
    el.textContent = countdown + 's';
    if (countdown <= 0) {
      el.textContent = 'âŸ³ Now';
      clearInterval(countdownTimer);
    }
  }, 1000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FORMAT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function inr(n) {
  return 'â‚¹' + Math.round(n).toLocaleString('en-IN');
}
function usd(n, d = 2) {
  return '$' + n.toFixed(d);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLASH ON CHANGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setVal(id, val, cls) {
  const el = document.getElementById(id);
  if (!el) return;
  const text = inr(val);
  if (el.textContent !== text) {
    el.textContent = text;
    el.classList.remove('flash-gold', 'flash-silver');
    void el.offsetWidth; // reflow
    el.classList.add(cls);
    setTimeout(() => el.classList.remove(cls), 1000);
  } else {
    el.textContent = text;
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RESET PROGRESS BAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function resetBar(id) {
  const el = document.getElementById(id);
  el.style.animation = 'none';
  void el.offsetWidth;
  el.style.animation = '';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FETCH USD/INR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function fetchForex() {
  try {
    const r = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
    if (r.ok) {
      const d = await r.json();
      if (d.rates?.INR) {
        USD_INR = d.rates.INR;
        document.getElementById('usdInr').textContent = 'â‚¹ ' + USD_INR.toFixed(2);
      }
    }
  } catch (_) {}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN FETCH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function fetchRates() {
  try {
    const [gRes, sRes] = await Promise.all([
      fetch('https://api.gold-api.com/price/XAU'),
      fetch('https://api.gold-api.com/price/XAG')
    ]);

    if (!gRes.ok || !sRes.ok) throw new Error('API unavailable');

    const g = await gRes.json();
    const s = await sRes.json();

    const goldUSD   = g.price;  // per troy oz
    const silverUSD = s.price;  // per troy oz

    // â”€â”€ Per gram in INR with local premium â”€â”€
    const goldINRg   = (goldUSD   / TROY_OZ_G) * USD_INR * LOCAL_PREM;
    const silverINRg = (silverUSD / TROY_OZ_G) * USD_INR * LOCAL_PREM;

    // â”€â”€ Gold rates â”€â”€
    setVal('g24t',    goldINRg * 10,                'flash-gold');
    setVal('g22t',    goldINRg * (22/24) * 10,      'flash-gold');

    // â”€â”€ Silver rates â”€â”€
    setVal('s1kg',   silverINRg * 1000,'flash-silver');

    // â”€â”€ Gold change badge â”€â”€
    const gChp  = g.chp  ?? 0;
    const gCh   = g.ch   ?? 0;
    const gBadge = document.getElementById('goldChg');
    const gSign  = gChp >= 0 ? '+' : '';
    gBadge.textContent = `${gSign}${gChp.toFixed(2)}%`;
    gBadge.className   = 'chg-badge ' + (gChp > 0 ? 'up' : gChp < 0 ? 'dn' : 'flat');

    // â”€â”€ Silver change badge â”€â”€
    const sChp  = s.chp  ?? 0;
    const sBadge = document.getElementById('silverChg');
    const sSign  = sChp >= 0 ? '+' : '';
    sBadge.textContent = `${sSign}${sChp.toFixed(2)}%`;
    sBadge.className   = 'chg-badge ' + (sChp > 0 ? 'up' : sChp < 0 ? 'dn' : 'flat');

    // â”€â”€ Ticker values â”€â”€
    document.getElementById('goldSpot').textContent    = usd(goldUSD) + ' /oz';
    document.getElementById('goldPerGram').textContent = inr(goldINRg) + ' /g';
    document.getElementById('gsRatio').textContent     = (goldUSD / silverUSD).toFixed(1) + ' : 1';

    document.getElementById('silverSpot').textContent  = usd(silverUSD) + ' /oz';
    document.getElementById('silverTola').textContent  = inr(silverINRg * TOLA_G);
    document.getElementById('silverKgUSD').textContent = usd((silverUSD / TROY_OZ_G) * 1000);

    // â”€â”€ Last updated â”€â”€
    const now = new Date();
    const timeStr = now.toLocaleTimeString('en-IN', {
      timeZone: 'Asia/Kolkata',
      hour: '2-digit', minute: '2-digit', second: '2-digit',
      hour12: true
    });
    const lu = document.getElementById('lastUpdated');
    lu.textContent = timeStr;
    lu.classList.add('fresh');
    setTimeout(() => lu.classList.remove('fresh'), 2500);

    // â”€â”€ USD/INR display fallback â”€â”€
    if (document.getElementById('usdInr').textContent.includes('Fetching') ||
        document.getElementById('usdInr').textContent.trim() === '') {
      document.getElementById('usdInr').textContent = 'â‚¹ ' + USD_INR.toFixed(2);
    }

    // â”€â”€ Reset progress bars â”€â”€
    resetBar('goldBar');
    resetBar('silverBar');

    prevGold = goldINRg;
    prevSilv = silverINRg;

  } catch (err) {
    console.error('Fetch error:', err);
    document.getElementById('lastUpdated').textContent = 'Retryâ€¦';
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DEALER LISTING MODAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openListShopModal() {
  document.getElementById('listShopModal').style.display = 'flex';
  document.getElementById('shopSubmitMsg').style.display = 'none';
}
function closeListShopModal() {
  document.getElementById('listShopModal').style.display = 'none';
}
function submitShopListing() {
  const name  = document.getElementById('shopName').value.trim();
  const owner = document.getElementById('ownerName').value.trim();
  const phone = document.getElementById('shopPhone').value.trim();
  if (!name || !owner || !phone) {
    alert('Please fill in Shop Name, Owner Name, and Phone Number.');
    return;
  }
  const pkg = document.querySelector('input[name="pkg"]:checked')?.value || 'basic';
  const tags = [...document.querySelectorAll('#sellTags input:checked')].map(i=>i.value).join(', ') || 'Not specified';
  const addr = document.getElementById('shopAddr').value.trim() || 'Not provided';
  const msg = document.getElementById('shopSubmitMsg');
  msg.style.display = 'block';
  msg.innerHTML = `âœ… Request received!<br><br>
    <b>${name}</b> Â· ${pkg === 'sponsored' ? 'â­ Sponsored' : 'Basic'} Package<br>
    We'll contact <b>${owner}</b> at <b>${phone}</b> within 24 hours.<br><br>
    WhatsApp us directly: <a href="https://wa.me/91XXXXXXXXXX?text=Hi, I want to list ${encodeURIComponent(name)} on Bhannuz" style="color:var(--gold-hi);">Click here â†’</a>`;
  // Clear form
  ['shopName','ownerName','shopPhone','shopAddr'].forEach(id => document.getElementById(id).value = '');
  document.querySelectorAll('#sellTags input').forEach(i => i.checked = false);
}
document.getElementById('listShopModal').addEventListener('click', function(e) {
  if (e.target === this) closeListShopModal();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LOCATION PICKER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let currentCity = 'Hyderabad';

function openLocationPicker() {
  document.getElementById('locationModal').style.display = 'flex';
  document.getElementById('customLocInput').value = '';
}

function closeLocationPicker() {
  document.getElementById('locationModal').style.display = 'none';
}

function setLocation(displayName, shortName) {
  currentCity = shortName;
  document.getElementById('locationDisplay').innerHTML =
    displayName + ' <span style="font-size:0.6rem;opacity:0.6;">âœ</span>';
  document.getElementById('goldLocationDesc').textContent = shortName;
  document.getElementById('silverLocationDesc').textContent = shortName;
  // Update hero eyebrow
  document.querySelector('.hero-eyebrow').textContent =
    `Bhannuz Â· ${displayName} Â· India`;
  closeLocationPicker();
}

function applyCustomLoc() {
  const val = document.getElementById('customLocInput').value.trim();
  if (!val) return;
  setLocation(val, val.split(',')[0].trim());
}

// Close modal on backdrop click
document.getElementById('locationModal').addEventListener('click', function(e) {
  if (e.target === this) closeLocationPicker();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function init() {
  fetchForex(); // non-blocking
  await fetchRates();
  startCountdown();

  // Auto-refresh every 30s
  setInterval(async () => {
    await fetchRates();
    startCountdown();
  }, REFRESH_MS);

  // Refresh forex every 5 min
  setInterval(fetchForex, 5 * 60 * 1000);
}

init();
</script>
</body>
</html>
